#========================================
# Configuration Principale - Nexus
#========================================
# Ce fichier contient les paramètres essentiels du plugin.
# Après modification, utilisez /nexus reload pour appliquer les changements.

# Version de la configuration (NE PAS MODIFIER)
config-version: 1

# === BASE DE DONNÉES ===
database:
  # Activer la base de données (requis pour le mode production)
  enabled: true
  
  # Hôte du serveur MariaDB
  host: 'localhost'
  
  # Port du serveur MariaDB (par défaut 3306)
  port: 3306
  
  # Nom de la base de données
  database: 'nexus'
  
  # Nom d'utilisateur
  username: 'root'
  
  # Mot de passe (CHANGEZ-LE en production !)
  password: ''
  
  # Configuration du pool de connexions HikariCP
  pool:
    # Nombre maximum de connexions simultanées
    maximum-pool-size: 10
    
    # Nombre minimum de connexions en attente
    minimum-idle: 2
    
    # Timeout de connexion (ms)
    connection-timeout: 30000
    
    # Temps avant fermeture des connexions inactives (ms)
    idle-timeout: 600000
    
    # Durée de vie maximale d'une connexion (ms)
    max-lifetime: 1800000
    
    # Seuil de détection de fuite de connexions (ms, 0 = désactivé)
    leak-detection-threshold: 60000

# === PERFORMANCE ===
performance:
  # Seuils d'alerte MSPT (Milliseconds Per Tick)
  # Un tick doit idéalement prendre < 50ms
  mspt-thresholds:
    # Seuil d'avertissement (log warning)
    warning: 40
    
    # Seuil critique (réduction automatique des effets)
    critical: 50
  
  # Budgets par arène (caps de sécurité)
  budgets:
    # Entités maximales par arène
    max-entities-per-arena: 100
    
    # Particules maximales par joueur
    max-particles-per-player: 50
    
    # Items au sol maximums
    max-items-on-ground: 50
  
  # Fréquences des schedulers (Hz = fois par seconde)
  schedulers:
    # Mise à jour du HUD (bossbar, actionbar)
    hud-update-rate: 5
    
    # Mise à jour du scoreboard
    scoreboard-update-rate: 2
    
    # Tick de la file d'attente
    queue-tick-rate: 10

# === MONDE ===
world:
  # Méthode de reset des arènes
  # DELTA = Reset seulement les modifications (rapide)
  # REPASTE = Recoller le schéma complet (lent mais sûr)
  reset-method: 'DELTA'
  
  # Seuil de modifications avant de forcer un REPASTE complet
  reset-threshold-modifications: 5000
  
  # Chemins des assets
  paths:
    # Dossier des configurations de maps
    maps: 'plugins/Nexus/maps'
    
    # Dossier des schémas WorldEdit/FAWE
    schematics: 'plugins/Nexus/schematics'
    
    # Dossier des templates de mondes complets
    world-templates: 'plugins/Nexus/world_templates'

# === DEBUG ===
debug:
  # Activer le mode debug (logs détaillés)
  enabled: false
  
  # Logs très verbeux (développement uniquement)
  verbose-logging: false
  
  # Logger toutes les requêtes SQL
  sql-logging: false
